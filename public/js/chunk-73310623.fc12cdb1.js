(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73310623"],{"4d50":function(t,a,e){},"4d94":function(t,a,e){},a589:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vs-row",[e("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[e("h2",{staticClass:"text-center"},[t._v("Noble Navigation and Shipping Line")])]),e("vs-col",{staticClass:"mb-2",attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[e("h4",{staticClass:"text-center"},[t._v(t._s(t.tripData.number))])]),e("vs-col",{staticClass:"mb-2",attrs:{"vs-w":"12"}},[e("hr")]),e("vs-col",{attrs:{"vs-w":"6"}},[e("table",{staticClass:"border-collapse"},[e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Ship")])]),e("td",[t._v(t._s(t.tripData.ship.name))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Trip Number")])]),e("td",[t._v(t._s(t.tripData.number))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Cargo")])]),e("td",[t._v(t._s(t.tripData.cargo?t.tripData.cargo:"NA"))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Cargo Quantity")])]),e("td",[t._v(t._s(t.tripData.cargo_quantity?t.tripData.cargo_quantity:"NA"))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Total Fuel")])]),e("td",[t._v(t._s(t.tripData.total_fuel?t.tripData.total_fuel:"NA"))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("From")])]),e("td",[t._v(t._s(t.tripData.from?t.tripData.from:"NA"))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("To")])]),e("td",[t._v(t._s(t.tripData.to?t.tripData.to:"NA"))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Status")])]),e("td",[t._v(t._s(t.tripData.status))])])])]),e("vs-col",{attrs:{"vs-w":"6"}},[e("table",[e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Loading Date")])]),e("td",[t._v(t._s(t._f("formatDate")(t.tripData.start_date)))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Sailing Date")])]),e("td",[t._v(t._s(t._f("formatDate")(t.tripData.sailing_start)))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Sailing End Date")])]),e("td",[t._v(t._s(t._f("formatDate")(t.tripData.sailing_end)))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Trip End Date")])]),e("td",[t._v(t._s(t._f("formatDate")(t.tripData.end_date)))])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Trip Duration")])]),e("td",[t._v(t._s(t.tripData.duration)+" days")])]),e("tr",[e("td",[e("b",{staticClass:"uppercase strong black-text"},[t._v("Type")])]),e("td",[t._v(t._s(t.tripData.type))])])])]),e("vs-col",{attrs:{"vs-w":"6"}},[e("h3",{staticClass:"mt-2",staticStyle:{"border-bottom":"1px solid black"}},[t._v("Expenses")]),0!=t.tripData.expense?e("table",{staticClass:"border-collapse"},[e("thead",[e("tr",{staticClass:"p-2 border border-solid bg-primary text-white d-theme-border-grey-light"},[e("th",[t._v("Date")]),e("th",[t._v("Detail")]),e("th",[t._v("Amount")]),e("th",{staticClass:"no_print"},[t._v("Action")])])]),e("tbody",[t._l(t.tripData.expenses,function(a){return e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",[t._v(t._s(t._f("formatDate")(a.created_at)))]),e("td",[t._v(t._s(a.detail))]),e("td",[t._v(t._s(t._f("currency")(a.amount)))]),e("td",{staticClass:"no_print"},[e("vs-button",{staticStyle:{padding:"5px"},attrs:{size:"small"},on:{click:function(e){return t.edit(a.id)}}},[e("vs-icon",{attrs:{icon:"edit"}})],1)],1)])}),e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("Total = "+t._s(t._f("currency")(t.tripData.expense)))])])],2)]):e("p",{staticClass:"text-center"},[t._v("No Expense")])]),e("vs-col",{attrs:{"vs-w":"6"}},[e("h3",{staticClass:"mt-2",staticStyle:{"border-bottom":"1px solid black"}},[t._v("Incomes")]),0!=t.tripData.income?e("table",[e("thead",[e("tr",{staticClass:"p-2 border border-solid bg-primary text-white d-theme-border-grey-light"},[e("th",[t._v("Date")]),e("th",[t._v("Detail")]),e("th",[t._v("Amount")]),e("th",{staticClass:"no_print"},[t._v("Action")])])]),e("tbody",[t._l(t.tripData.incomes,function(a){return e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",[t._v(t._s(t._f("formatDate")(a.created_at)))]),e("td",[t._v(t._s(a.detail))]),e("td",[t._v(t._s(t._f("currency")(a.amount)))]),e("td",{staticClass:"no_print"},[e("vs-button",{staticStyle:{padding:"5px"},attrs:{size:"small"},on:{click:function(e){return t.edit(a.id)}}},[e("vs-icon",{attrs:{icon:"edit"}})],1)],1)])}),e("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("Total = "+t._s(t._f("currency")(t.tripData.income)))])])],2)]):e("p",{staticClass:"text-center"},[t._v("No Income")])]),e("vs-col",{attrs:{"vs-w":"12"}},[e("hr")]),e("vs-col",{attrs:{"vs-offset":"6","vs-w":"6"}},[e("table",[e("tbody",[e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",[t._v("Total Income")]),e("td",[t._v(t._s(t._f("currency")(t.tripData.income)))])]),e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",[t._v("Total Expense")]),e("td",[t._v(t._s(t._f("currency")(t.tripData.expense)))])]),e("tr",{staticClass:"p-2 border border-solid d-theme-border-grey-light"},[e("td",[t._v("Profit")]),e("td",[t._v(t._s(t._f("currency")(t.tripData.profit)))])])])])]),e("vs-popup",{staticStyle:{"z-index":"500000"},attrs:{title:t.action,active:t.popupActive2},on:{"update:active":function(a){t.popupActive2=a}}},[e("vx-input-group",{staticClass:"mb-base"},[t.$auth.check(["date"])?e("datepicker",{staticClass:"text-center",model:{value:t.transactionForm.date,callback:function(a){t.$set(t.transactionForm,"date",a)},expression:"transactionForm.date"}}):t._e()],1),e("vx-input-group",{staticClass:"mb-base"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Details",name:"detail",placeholder:"Detail"},model:{value:t.transactionForm.detail,callback:function(a){t.$set(t.transactionForm,"detail",a)},expression:"transactionForm.detail"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("detail"),expression:"errors.has('detail')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("detail")))])],1),e("vx-input-group",{staticClass:"mb-base"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],attrs:{name:"amount",label:"Amount",placeholder:"Amount"},model:{value:t.transactionForm.amount,callback:function(a){t.$set(t.transactionForm,"amount",a)},expression:"transactionForm.amount"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("amount")))])],1),e("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Save")])],1)],1)},r=[],i=(e("551c"),e("fa33")),n={props:["tripData"],data:function(){return{transactionForm:{id:"",date:"",detail:"",amount:""},popupActive2:!1,action:"Edit"}},methods:{submitForm:function(){var t=this;this.$validator.validateAll().then(function(a){a&&(t.popupActive2=!1,t.transactionForm.date=t.$options.filters.dateToString(t.transactionForm.date),t.axios.post("transaction/"+t.transactionForm.id,t.transactionForm).then(function(a){a.data.notify&&t.$vs.notify({title:a.data.notify.title,text:a.data.notify.message,color:a.data.notify.type}),"success"==a.data.status&&(t.transactionForm={id:"",date:"",detail:"",amount:""}),t.update()}))})},edit:function(t){var a=this;this.axios.get("transaction/"+t).then(function(e){a.transactionForm.id=t,a.transactionForm.date=new Date(e.data.created_at),a.transactionForm.detail=e.data.detail,a.transactionForm.amount=e.data.amount,a.action=e.data.type,a.popupActive2=!0})},update:function(){var t=this;this.axios.get("trip/"+this.tripData.id).then(function(a){t.tripData=a.data})}},components:{Datepicker:i["a"]}},o=n,c=(e("d1c3"),e("2877")),d=Object(c["a"])(o,s,r,!1,null,"8fdc651c",null);a["a"]=d.exports},b9b3:function(t,a,e){"use strict";var s=e("4d50"),r=e.n(s);r.a},d1c3:function(t,a,e){"use strict";var s=e("4d94"),r=e.n(s);r.a},ed16:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vx-card",{attrs:{title:"All trips"}},[e("h6",[t._v("Number of rows")]),e("v-select",{staticClass:"md:w-1/6 mb-base",staticStyle:{"margin-bottom":"-12px !important"},attrs:{clearable:!1,options:t.options},on:{input:t.setMax},model:{value:t.maxItem,callback:function(a){t.maxItem=a},expression:"maxItem"}}),e("vs-table",{attrs:{pagination:"","max-items":t.maxItem,search:"",data:t.users},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,function(a,r){return e("vs-tr",{key:r,attrs:{data:a}},[e("vs-td",{attrs:{data:s[r].number}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(s[r].number))])]),e("vs-td",{attrs:{data:s[r].ship}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(s[r].ship))])]),e("vs-td",{attrs:{data:s[r].type}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(s[r].type))])]),e("vs-td",{attrs:{data:s[r].start_date}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(" "+t._s(t._f("formatDate")(s[r].start_date)))])]),e("vs-td",{attrs:{data:s[r].status}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(s[r].status))])]),e("vs-td",{attrs:{data:s[r].created_by}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(s[r].created_by))])]),e("vs-td",{attrs:{data:s[r].income}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(t._f("currency")(s[r].income)))])]),e("vs-td",{attrs:{data:s[r].expense}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(t._f("currency")(s[r].expense)))])]),e("vs-td",{attrs:{data:s[r].profit}},[e("span",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v(t._s(t._f("currency")(s[r].profit)))])]),e("vs-td",{attrs:{data:s[r].id}},[e("vs-dropdown",{staticStyle:{cursor:"pointer"},attrs:{color:"success","vs-trigger-click":""}},[e("vs-button",{staticClass:"btn-drop",attrs:{type:"filled",icon:"more_horiz"}}),e("vs-dropdown-menu",[t.$auth.check(["income_add"])?e("vs-dropdown-item",{on:{click:function(a){return t.showTripFn(s[r].id)}}},[t._v("View")]):t._e(),t.$auth.check(["income_add"])?e("vs-dropdown-item",{on:{click:function(a){return t.addIncome(s[r].id)}}},[t._v("Add Income")]):t._e(),t.$auth.check(["expense_add"])?e("vs-dropdown-item",{on:{click:function(a){return t.addExpense(s[r].id)}}},[t._v("Add Expense")]):t._e(),t.$auth.check(["income_edit"])?e("vs-dropdown-item",[e("router-link",{attrs:{to:"trip/edit?id="+s[r].id}},[t._v("Edit")])],1):t._e(),t.$auth.check(["income_delete"])?e("vs-dropdown-item",{attrs:{divider:""},on:{click:function(a){return t.confirmDelete(s[r].id)}}},[t._v("Delete")]):t._e()],1)],1)],1)],1)})}}])},[e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"number"}},[t._v("Trip #")]),e("vs-th",{attrs:{"sort-key":"ship"}},[t._v("Ship")]),e("vs-th",{attrs:{"sort-key":"type"}},[t._v("Type")]),e("vs-th",{attrs:{"sort-key":"start_date"}},[t._v("Start Date")]),e("vs-th",{attrs:{"sort-key":"status"}},[t._v("Status")]),e("vs-th",{attrs:{"sort-key":"created_by"}},[t._v("Created by")]),e("vs-th",{attrs:{"sort-key":"income"}},[t._v("Income")]),e("vs-th",{attrs:{"sort-key":"expense"}},[t._v("Expense")]),e("vs-th",{attrs:{"sort-key":"profit"}},[t._v("Profit")]),e("vs-th",[t._v("Action")])],1)],2),e("div",{staticClass:"demo-alignment"},[t.popupActive?e("vs-popup",{staticClass:"holamundo",attrs:{title:t.transactionForm.action,active:t.popupActive},on:{"update:active":function(a){t.popupActive=a}}},[e("vx-input-group",{staticClass:"mb-base"},[t.$auth.check(["date"])?e("datepicker",{staticClass:"text-center",model:{value:t.transactionForm.date,callback:function(a){t.$set(t.transactionForm,"date",a)},expression:"transactionForm.date"}}):t._e()],1),e("vx-input-group",{staticClass:"mb-base"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Details",name:"detail",placeholder:"Detail"},model:{value:t.transactionForm.detail,callback:function(a){t.$set(t.transactionForm,"detail",a)},expression:"transactionForm.detail"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("detail"),expression:"errors.has('detail')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("detail")))])],1),e("vx-input-group",{staticClass:"mb-base"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{name:"amount",label:"Amount",placeholder:"Amount"},model:{value:t.transactionForm.amount,callback:function(a){t.$set(t.transactionForm,"amount",a)},expression:"transactionForm.amount"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("amount")))])],1),e("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Save")])],1):t._e()],1),e("div",{staticClass:"demo-alignment"},[e("vs-popup",{staticClass:"holamundo",attrs:{fullscreen:"",title:"View Trip",active:t.showTrip},on:{"update:active":function(a){t.showTrip=a}}},[e("div",{attrs:{id:"section-to-print"}},[t.tripData?e("trip-view",{attrs:{tripData:t.tripData}}):t._e()],1)])],1),e("div",{staticClass:"demo-alignment"},[e("vs-popup",{staticClass:"holamundo",attrs:{title:"Are you sure?",active:t.deleteConfirmation},on:{"update:active":function(a){t.deleteConfirmation=a}}},[e("p",[t._v("This action can not undone! If this is mistake click cancel")]),e("div",{staticClass:"flex justify-between flex-wrap"},[e("vs-button",{staticClass:"mt-4 shadow-lg",attrs:{type:"gradient",color:"danger"},on:{click:function(a){return t.deleteTr(t.deleteId)}}},[t._v("Delete")]),e("vs-button",{staticClass:"mt-4 shadow-lg",attrs:{type:"gradient",color:"success"},on:{click:function(a){t.deleteConfirmation=!1}}},[t._v("Cancel")])],1)])],1),e("router-link",{attrs:{to:"/trip/add"}},[e("vs-button",{staticClass:"floating-btn",attrs:{color:"success",type:"gradient","icon-pack":"feather",icon:"icon-plus"}})],1)],1)},r=[],i=(e("551c"),e("4a7a")),n=e.n(i),o=e("fa33"),c=e("a589"),d={data:function(){return{showTrip:!1,tripData:null,popupActive:!1,deleteConfirmation:!1,deleteId:"",transactionForm:{action:"",type:"",trip_id:"",date:new Date,detail:"",amount:""},users:[],options:[10,20,50,100],maxItem:localStorage.getItem("maxItem")?localStorage.getItem("maxItem"):10}},methods:{confirmDelete:function(t){this.deleteConfirmation=!0,this.deleteId=t},deleteTr:function(t){var a=this;this.deleteConfirmation=!1,this.$auth.check(["trip_delete"])?this.axios.delete("trip/"+t).then(function(t){t.data.notify&&a.$vs.notify({title:t.data.notify.title,text:t.data.notify.message,color:t.data.notify.type}),a.update()}):this.$vs.notify({title:"Unauthorised Access !",text:"You are not authorized for some information.",color:"danger"})},showTripFn:function(t){var a=this;this.axios.get("trip/"+t).then(function(t){a.tripData=t.data,a.showTrip=!0})},addExpense:function(t){this.transactionForm.action="Add Expense",this.transactionForm.type="expense",this.transactionForm.trip_id=t,this.popupActive=!0},addIncome:function(t){this.transactionForm.action="Add Income",this.transactionForm.type="income",this.transactionForm.trip_id=t,this.popupActive=!0},submitForm:function(){var t=this;this.popupActive=!1,this.$validator.validateAll().then(function(a){a&&(t.transactionForm.date=t.$options.filters.dateToString(t.transactionForm.date),console.log(t.transactionForm),t.axios.post("transaction/add",t.transactionForm).then(function(a){a.data.notify&&t.$vs.notify({title:a.data.notify.title,text:a.data.notify.message,color:a.data.notify.type}),"success"==a.data.status&&(t.transactionForm={action:"",type:"",trip_id:"",date:new Date,detail:"",amount:""}),t.$validator.reset(),t.update()}))})},setMax:function(){this.maxItem<10&&(this.maxItem=10),localStorage.setItem("maxItem",this.maxItem)},update:function(){var t=this;this.axios.get("/trips").then(function(a){t.users=a.data})}},mounted:function(){var t=this;this.update(),Echo.connector.pusher.config.auth.headers["Authorization"]="Bearer "+this.$auth.token(),Echo.private("App.User."+this.$auth.user().id).notification(function(a){t.update()})},components:{Datepicker:o["a"],"v-select":n.a,"trip-view":c["a"]}},l=d,p=(e("b9b3"),e("2877")),u=Object(p["a"])(l,s,r,!1,null,"33bff3e4",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-73310623.fc12cdb1.js.map
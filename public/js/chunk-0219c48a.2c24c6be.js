(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0219c48a"],{2145:function(t,s,a){},"4a590":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("vx-card",{attrs:{title:t.action}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4"},[a("div",{staticClass:"select_input"},[a("label",{staticClass:"vs-input--label"},[t._v("Ship")]),a("v-select",{staticClass:"select_input",attrs:{disabled:t.disabled,clearable:!1,options:[{id:1,label:"Hasan Hamim 1"},{id:2,label:"Hasan Hamim 3"}]},model:{value:t.selectedShip,callback:function(s){t.selectedShip=s},expression:"selectedShip"}})],1)]),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"From",placeholder:"From",name:"from"},model:{value:t.trip.from,callback:function(s){t.$set(t.trip,"from",s)},expression:"trip.from"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("from"),expression:"errors.has('from')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("from")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"To",placeholder:"To",name:"to"},model:{value:t.trip.to,callback:function(s){t.$set(t.trip,"to",s)},expression:"trip.to"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("to"),expression:"errors.has('to')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("to")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("label",{staticClass:"vs-input--label"},[t._v("Loading Start")]),a("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.trip.start_date,callback:function(s){t.$set(t.trip,"start_date",s)},expression:"trip.start_date"}})],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("label",{staticClass:"vs-input--label"},[t._v("Sailing Start")]),a("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.trip.sailing_start,callback:function(s){t.$set(t.trip,"sailing_start",s)},expression:"trip.sailing_start"}})],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("label",{staticClass:"vs-input--label"},[t._v("Sailing end")]),a("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.trip.sailing_end,callback:function(s){t.$set(t.trip,"sailing_end",s)},expression:"trip.sailing_end"}})],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("label",{staticClass:"vs-input--label"},[t._v("Discharging End")]),a("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.trip.end_date,callback:function(s){t.$set(t.trip,"end_date",s)},expression:"trip.end_date"}})],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"Cargo",placeholder:"To",name:"cargo"},model:{value:t.trip.cargo,callback:function(s){t.$set(t.trip,"cargo",s)},expression:"trip.cargo"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cargo"),expression:"errors.has('cargo')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("cargo")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"Cargo quantity",placeholder:"To",name:"cargo"},model:{value:t.trip.cargo_quantity,callback:function(s){t.$set(t.trip,"cargo_quantity",s)},expression:"trip.cargo_quantity"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cargo_quantity"),expression:"errors.has('cargo_quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("cargo_quantity")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{staticClass:"mt-5 w-full",attrs:{label:"Total Fuel",placeholder:"Total Fuel",name:"cargo"},model:{value:t.trip.total_fuel,callback:function(s){t.$set(t.trip,"total_fuel",s)},expression:"trip.total_fuel"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("total_fuel"),expression:"errors.has('total_fuel')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("total_fuel")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("div",{staticClass:"select_input"},[a("label",{staticClass:"vs-input--label"},[t._v("Type")]),a("v-select",{staticClass:"select_input",attrs:{clearable:!1,options:["Single","Double"]},model:{value:t.selectedType,callback:function(s){t.selectedType=s},expression:"selectedType"}})],1)]),a("div",{staticClass:"vx-col md:w-1/4"},[a("div",{staticClass:"select_input"},[a("label",{staticClass:"vs-input--label"},[t._v("Status")]),a("v-select",{staticClass:"select_input",attrs:{clearable:!1,options:["Loading","Sailing","Discharging","Completed"]},model:{value:t.selectedStatus,callback:function(s){t.selectedStatus=s},expression:"selectedStatus"}})],1)])]),a("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled",disabled:t.loading},on:{click:function(s){return s.preventDefault(),t.submitTripForm(s)}}},[t._v("Submit")])],1)])},i=[],l=(a("551c"),a("4a7a")),r=a.n(l),n=a("fa33"),o={data:function(){return{referer:null,disabled:!1,selectedShip:{id:1,label:"Hasan Hamim 1"},selectedType:"Single",selectedStatus:"Loading",trip:{trip_id:"",ship_id:"",from:"",to:"",start_date:"",sailing_start:"",sailing_end:"",end_date:"",cargo:"",cargo_quantity:"",total_fuel:"",type:"",status:""},action:"Add Trip",loading:!1}},beforeRouteEnter:function(t,s,a){a(function(t){t.referer=s})},methods:{submitTripForm:function(){var t=this;this.trip.start_date=this.$options.filters.dateToString(this.trip.start_date),this.trip.sailing_start=this.$options.filters.dateToString(this.trip.sailing_start),this.trip.sailing_end=this.$options.filters.dateToString(this.trip.sailing_end),this.trip.end_date=this.$options.filters.dateToString(this.trip.end_date),this.trip.type=this.selectedType,this.trip.status=this.selectedStatus,this.trip.ship_id=this.selectedShip.id,console.log(this.trip),this.$validator.validateAll().then(function(s){s&&t.axios.post("trip/add",t.trip).then(function(s){s.data.notify&&t.$vs.notify({title:s.data.notify.title,text:s.data.notify.message,color:s.data.notify.type}),"success"==s.data.status&&t.$router.push(t.referer)})})},editTrip:function(t){var s=this;this.disabled=!0,this.loading=!0,this.axios.get("trip/"+t).then(function(t){var a=t.data;s.action="Edit trip ("+a.number+")",s.selectedShip=1==a.ship_id?{id:1,label:"Hasan Hamim 1"}:{id:2,label:"Hasan Hamim 3"},s.selectedStatus=a.status,s.selectedType=a.type,s.trip.trip_id=a.id,s.trip.ship_id=a.ship_id,s.trip.from=a.from,s.trip.to=a.to,s.trip.start_date=a.start_date?new Date(a.start_date):"",s.trip.sailing_start=a.sailing_start?new Date(a.sailing_start):"",s.trip.sailing_end=a.sailing_end?new Date(a.sailing_end):"",s.trip.end_date=a.end_date?new Date(a.end_date):"",s.trip.cargo=a.cargo,s.trip.cargo_quantity=a.cargo_quantity,s.trip.total_fuel=a.total_fuel,s.loading=!1})}},mounted:function(){this.$route.query.id&&this.editTrip(this.$route.query.id)},components:{Datepicker:n["a"],"v-select":r.a}},c=o,p=(a("6881"),a("2877")),d=Object(p["a"])(c,e,i,!1,null,"b64f9b80",null);s["default"]=d.exports},6881:function(t,s,a){"use strict";var e=a("2145"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-0219c48a.2c24c6be.js.map
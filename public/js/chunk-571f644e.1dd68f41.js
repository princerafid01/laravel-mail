(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-571f644e"],{"16ba":function(t,e,s){},d1eb:function(t,e,s){"use strict";var a=s("16ba"),i=s.n(a);i.a},fbce:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vx-card",{attrs:{title:"Roles"}},[s("div",{staticClass:"grid-demo__layout-container"},[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-lg":"4","vs-sm":"12","vs-xs":"12"}},[s("form",[s("div",{staticClass:"vx-col"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Role Name",placeholder:"Role Name",name:"name"},model:{value:t.role.role_name,callback:function(e){t.$set(t.role,"role_name",e)},expression:"role.role_name"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("name")))])],1),s("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(e){return e.preventDefault(),t.submitForm(e)}}},[t._v(t._s(t.action))])],1)]),s("vs-col",{attrs:{"vs-align":"center","vs-lg":"8","vs-sm":"12","vs-xs":"12"}},[s("h3",[t._v("All Roles")]),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Action")])])]),s("tbody",t._l(t.roles,function(e){return s("tr",[s("td",[t._v(t._s(e.label))]),s("td",[s("vs-dropdown",{staticStyle:{cursor:"pointer"},attrs:{color:"success","vs-trigger-click":""}},[s("vs-button",{staticClass:"btn-drop",attrs:{type:"filled",icon:"more_horiz"}}),s("vs-dropdown-menu",[t.$auth.check(["super_admin"])?s("vs-dropdown-item",[s("router-link",{attrs:{to:"/roles/permission/"+e.id}},[t._v("Edit Permission")])],1):t._e(),t.$auth.check(["super_admin"])?s("vs-dropdown-item",{on:{click:function(s){return t.edit(e.id,e.label)}}},[t._v("Edit")]):t._e(),t.$auth.check(["super_admin"])?s("vs-dropdown-item",{attrs:{divider:""},on:{click:function(s){return t.confirmDelete(e.id)}}},[t._v("Delete")]):t._e()],1)],1)],1)])}),0)])])],1)],1),s("div",{staticClass:"demo-alignment"},[s("vs-popup",{staticClass:"holamundo",attrs:{title:"Are you sure?",active:t.deleteConfirmation},on:{"update:active":function(e){t.deleteConfirmation=e}}},[s("p",[t._v("This action can not undone! If this is mistake click cancel")]),s("div",{staticClass:"flex justify-between flex-wrap"},[s("vs-button",{staticClass:"mt-4 shadow-lg",attrs:{type:"gradient",color:"danger"},on:{click:function(e){return t.deleteR(t.deleteId)}}},[t._v("Delete")]),s("vs-button",{staticClass:"mt-4 shadow-lg",attrs:{type:"gradient",color:"success"},on:{click:function(e){t.deleteConfirmation=!1}}},[t._v("Cancel")])],1)])],1)])},i=[],o={data:function(){return{deleteConfirmation:!1,deleteId:"",action:"Create",role:{role_id:"",role_name:""},roles:[]}},methods:{confirmDelete:function(t){this.deleteConfirmation=!0,this.deleteId=t},edit:function(t,e){this.role.role_name=e,this.role.role_id=t,this.action="Update"},deleteR:function(t){var e=this;this.deleteConfirmation=!1,this.axios.delete("role/"+t).then(function(t){t.data.notify&&e.$vs.notify({title:t.data.notify.title,text:t.data.notify.message,color:t.data.notify.type}),"success"==t.data.status&&e.update()})},submitForm:function(){var t=this;this.$validator.validateAll().then(function(e){e&&t.axios.post("role",t.role).then(function(e){e.data.notify&&t.$vs.notify({title:e.data.notify.title,text:e.data.notify.message,color:e.data.notify.type}),"success"==e.data.status&&(t.role={role_name:"",role_id:""},t.$validator.reset(),t.action="Create",t.update())})})},update:function(){var t=this;this.axios.get("roles").then(function(e){t.roles=e.data})}},mounted:function(){this.update()}},n=o,r=(s("d1eb"),s("2877")),l=Object(r["a"])(n,a,i,!1,null,"874107ac",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-571f644e.1dd68f41.js.map
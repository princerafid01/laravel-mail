(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b0f787a"],{"12dd":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("vx-card",{attrs:{title:e.action}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Full Name",placeholder:"Full Name",name:"name"},model:{value:e.user.name,callback:function(s){e.$set(e.user,"name",s)},expression:"user.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"mt-5 w-full",attrs:{label:"Email",disabled:e.disabled,placeholder:"Email",name:"email"},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:11|numeric",expression:"'required|min:11|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Phone",placeholder:"Phone",name:"phone"},model:{value:e.user.phone,callback:function(s){e.$set(e.user,"phone",s)},expression:"user.phone"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("phone")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:e.disabled?"":"required|min:6",expression:"disabled?'':'required|min:6'"}],ref:"password",staticClass:"mt-5 w-full",attrs:{type:"password",label:"Password",autocomplete:"new-password",placeholder:"Your Password",name:"password"},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("password")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:e.disabled?"confirmed:password":"required|min:6|max:10|confirmed:password",expression:"disabled?'confirmed:password':'required|min:6|max:10|confirmed:password'"}],staticClass:"mt-5 w-full",attrs:{type:"password",label:"Confirm Password","data-vv-as":"password",placeholder:"Confirm Password",name:"password_confirmation"},model:{value:e.user.password_confirmation,callback:function(s){e.$set(e.user,"password_confirmation",s)},expression:"user.password_confirmation"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password_confirmation"),expression:"errors.has('password_confirmation')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("password_confirmation")))])],1),a("div",{staticClass:"vx-col md:w-1/4"},[a("div",{staticClass:"select_input"},[a("label",{staticClass:"vs-input--label"},[e._v("Role")]),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select_input",attrs:{name:"role",clearable:!1,options:e.roles},model:{value:e.selectedRole,callback:function(s){e.selectedRole=s},expression:"selectedRole"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("role"),expression:"errors.has('role')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("role")))])],1)]),a("div",{staticClass:"vx-col md:w-1/4"},[a("div",{staticClass:"select_input"},[a("label",{staticClass:"vs-input--label"},[e._v("Status")]),a("v-select",{staticClass:"select_input",attrs:{clearable:!1,options:["Active","Inactive"]},model:{value:e.selectedStatus,callback:function(s){e.selectedStatus=s},expression:"selectedStatus"}})],1)]),a("div",{staticClass:"vx-col md:w-1/4"},[a("vs-checkbox",{staticStyle:{"padding-top":"50px"},model:{value:e.user.notify,callback:function(s){e.$set(e.user,"notify",s)},expression:"user.notify"}},[e._v("Notify by SMS")])],1)]),a("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled",disabled:e.loading},on:{click:function(s){return s.preventDefault(),e.submitForm(s)}}},[e._v("Submit")])],1)])},r=[],i=(a("7f7f"),a("4a7a")),l=a.n(i),o=a("fa33"),n={data:function(){return{referer:null,disabled:!1,selectedRole:[],selectedStatus:"Active",roles:[],user:{user_id:"",name:"",email:"",phone:"",status:"",password:"",role_id:"",notify:""},action:"Add User",loading:!1}},beforeRouteEnter:function(e,s,a){a(function(e){e.referer=s})},methods:{submitForm:function(){var e=this;this.user.status=this.selectedStatus,this.user.role_id=this.selectedRole.id,this.user.status=this.selectedStatus,console.log(this.user),this.$validator.validateAll().then(function(s){s&&e.axios.post("user",e.user).then(function(s){s.data.notify&&e.$vs.notify({title:s.data.notify.title,text:s.data.notify.message,color:s.data.notify.type}),"success"==s.data.status&&e.$router.push("/users")})})},editUser:function(e){var s=this;this.disabled=!0,this.loading=!0,this.axios.get("user/"+e).then(function(e){var a=e.data;s.action="Edit User",s.selectedRole={id:a.role.id,label:a.role.display_name},s.selectedStatus=1==a.active?"Active":"Inactive",s.user.user_id=a.id,s.user.name=a.name,s.user.email=a.email,s.user.phone=a.phone,s.loading=!1})}},mounted:function(){var e=this;this.axios.get("roles").then(function(s){e.roles=s.data}),this.$route.query.id&&this.editUser(this.$route.query.id)},components:{Datepicker:o["a"],"v-select":l.a}},d=n,c=(a("6bd5"),a("2877")),u=Object(c["a"])(d,t,r,!1,null,"5406bd80",null);s["default"]=u.exports},"6bd5":function(e,s,a){"use strict";var t=a("9dfe"),r=a.n(t);r.a},"9dfe":function(e,s,a){}}]);
//# sourceMappingURL=chunk-3b0f787a.6db0928e.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c35fe9b4"],{"6c7d":function(t,a,e){},a208:function(t,a,e){t.exports=e.p+"img/transport.6b37ef63.jpg"},bb51:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"vx-row"},[t._l(t.currentTrip,function(a){return t.$auth.check(["trip_view"])?s("div",{staticClass:"vx-col w-full sm:w-1/2 lg:w-1/3 mb-base"},[s("vx-card",[s("div",{attrs:{slot:"no-body"},slot:"no-body"},[s("img",{staticClass:"responsive card-img-top",attrs:{src:e("a208"),alt:"content-img"}})]),s("div",{staticClass:"btn-group flex flex-wrap mb-2"},[t.$auth.check(["income_add"])?s("vs-button",{staticStyle:{width:"33.3333%"},on:{click:function(e){return t.addIncome(a.id)}}},[t._v("Add Income")]):t._e(),t.$auth.check(["expense_add"])?s("vs-button",{staticStyle:{width:"33.3333%"},on:{click:function(e){return t.addExpense(a.id)}}},[t._v("Add Expense")]):t._e(),t.$auth.check(["trip_edit"])?s("vs-button",{staticStyle:{width:"33.3333%"}},[s("router-link",{staticStyle:{color:"white"},attrs:{to:"trip/edit?id="+a.id}},[t._v("Edit Trip")])],1):t._e()],1),s("div",{staticClass:"demo-alignment"},[s("vs-popup",{staticClass:"holamundo",attrs:{title:t.transactionForm.action,active:t.popupActive},on:{"update:active":function(a){t.popupActive=a}}},[s("vx-input-group",{staticClass:"mb-base"},[t.$auth.check(["date"])?s("datepicker",{staticClass:"text-center",model:{value:t.transactionForm.date,callback:function(a){t.$set(t.transactionForm,"date",a)},expression:"transactionForm.date"}}):t._e()],1),s("vx-input-group",{staticClass:"mb-base"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Details",name:"detail",placeholder:"Detail"},model:{value:t.transactionForm.detail,callback:function(a){t.$set(t.transactionForm,"detail",a)},expression:"transactionForm.detail"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("detail"),expression:"errors.has('detail')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("detail")))])],1),s("vx-input-group",{staticClass:"mb-base"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{name:"amount",label:"Amount",placeholder:"Amount"},model:{value:t.transactionForm.amount,callback:function(a){t.$set(t.transactionForm,"amount",a)},expression:"transactionForm.amount"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("amount")))])],1),s("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Save")])],1)],1),s("h5",{staticClass:"mb-2 text-center"},[t._v(t._s(a.number))]),s("div",{staticClass:"vs-component vs-con-table stripe vs-table-primary"},[s("div",{staticClass:"vs-con-tbody vs-table--tbody  "},[s("table",{staticClass:"vs-table vs-table--tbody-table",staticStyle:{"min-width":"100px !important"}},[s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Ship")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(a.ship.name))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Start date")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("formatDate")(a.start_date)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Sailing start")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("formatDate")(a.sailing_start)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Sailing end")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("formatDate")(a.sailing_end)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Discharging finish")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("formatDate")(a.end_date)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Income")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("currency")(a.income)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Expense")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("currency")(a.expense)))])]),s("tr",{staticClass:"tr-values vs-table--tr tr-table-state-null"},[s("td",{staticClass:"td vs-table--td"},[t._v("Profit")]),s("td",{staticClass:"td vs-table--td"},[t._v(t._s(t._f("currency")(a.profit)))])])])])])])],1):t._e()}),t.currentTrip?s("vs-divider"):t._e(),s("div",{staticClass:"vx-row mb-3",staticStyle:{width:"100%"}},[s("h3",{staticClass:"vx-col md:w-full text-center"},[t._v("Date range filter")]),s("div",{staticClass:"vx-col md:w-1/4"},[s("label",{staticClass:"vs-input--label"},[t._v("Start Date")]),s("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1),s("div",{staticClass:"vx-col md:w-1/4"},[s("label",{staticClass:"vs-input--label"},[t._v("End date")]),s("datepicker",{staticClass:"text-center",attrs:{"input-class":"vs-inputx vs-input--input normal","wrapper-class":"vs-component vs-con-input-label vs-input mt-5 w-full vs-input-primary"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1),s("div",{staticClass:"vx-col md:w-1/4"},[s("vs-button",{staticClass:"mt-5 block",staticStyle:{"margin-top":"37px !important"},attrs:{type:"filled"},on:{click:function(a){return a.preventDefault(),t.update(a)}}},[t._v("Filter")])],1)]),s("div",{staticClass:"vx-col w-full md:w-1/4 mb-base"},[s("vx-card",{attrs:{title:"Total Trip",subtitle:"Total trip till now","title-color":"#fff","card-background":"linear-gradient(45deg, #2962ff, #3949ab)","content-color":"#fff"}},[s("h3",{staticClass:"text-white text-center"},[t._v(t._s(t.totalTrip))])])],1),s("div",{staticClass:"vx-col w-full md:w-1/4 mb-base"},[s("vx-card",{attrs:{title:"Total income",subtitle:"Total income from all trip","title-color":"#fff","content-color":"#fff","card-background":"linear-gradient(45deg, #43a047, #1de9b6)"}},[s("h2",{staticClass:"text-white text-center"},[t._v(t._s(t._f("currency")(t.totalIncome)))])])],1),s("div",{staticClass:"vx-col w-full md:w-1/4 mb-base"},[s("vx-card",{attrs:{title:"Total Expense",subtitle:"Total expense for all trip","title-color":"#fff","content-color":"#fff","card-background":"linear-gradient(45deg, #bf360c, #f57c00)"}},[s("h3",{staticClass:"text-white text-center"},[t._v(t._s(t._f("currency")(t.totalExpense)))])])],1),s("div",{staticClass:"vx-col w-full md:w-1/4 mb-base"},[s("vx-card",{attrs:{title:"Total Profit",subtitle:"Total from all trip till now","title-color":"#fff","card-background":"success","content-color":"#fff"}},[s("h3",{staticClass:"text-white text-center"},[t._v(t._s(t._f("currency")(t.totalProfit)))])])],1),s("div",{staticClass:"vx-col w-full md:w-1/4 mb-base"},[s("vx-card",{attrs:{title:"Total General Expense",subtitle:"Total from all trip till now","title-color":"#fff","card-background":"success","content-color":"#fff"}},[s("h3",{staticClass:"text-white text-center"},[t._v(t._s(t._f("currency")(t.totalGExpense)))])])],1),s("div",{staticClass:"demo-alignment"},[s("div",{staticClass:"only_print",attrs:{id:"section-to-print"}},[s("vs-row",[s("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[s("h2",{staticClass:"text-center"},[t._v("Noble Navigation and Shipping Line")])]),s("vs-col",{staticClass:"mb-2",attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[s("h4",{staticClass:"text-center"},[t._v("Summary ("+t._s(t._f("formatDate")(t.startDate))+" - "+t._s(t._f("formatDate")(t.endDate))+" )")])]),s("vs-col",{staticClass:"mb-2",attrs:{"vs-w":"12"}},[s("hr")]),s("vs-col",{attrs:{"vs-offset":"3","vs-w":"6"}},[s("table",{staticClass:"border-collapse",staticStyle:{width:"100%"}},[s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total trip")])]),s("td",[t._v(t._s(t.totalTrip))])]),s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total Income")])]),s("td",[t._v(t._s(t._f("currency")(t.totalIncome)))])]),s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total Expense")])]),s("td",[t._v(t._s(t._f("currency")(t.totalExpense)))])]),s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total Profit")])]),s("td",[t._v(t._s(t._f("currency")(t.totalProfit)))])]),s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total General Expense")])]),s("td",[t._v(t._s(t._f("currency")(t.totalGExpense)))])]),s("tr",{staticClass:"p-2 border border-solid  d-theme-border-grey-light"},[s("td",[s("b",{staticClass:"uppercase strong black-text"},[t._v("Total Net Profit")])]),s("td",[t._v(t._s(t._f("currency")(t.totalProfit-t.totalGExpense)))])])])])],1)],1)])],2)},r=[],i=(e("551c"),e("fa33")),l={data:function(){return{endDate:"",startDate:"",totalExpense:"loading",totalTrip:"loading",totalIncome:"loading",totalProfit:"loading",totalGExpense:"loading",currentTrip:null,popupActive:!1,date:new Date,format:"yyyy-MM-dd",transactionForm:{action:"",type:"",trip_id:"",date:new Date,detail:"",amount:""}}},methods:{addExpense:function(t){this.transactionForm.action="Add Expense",this.transactionForm.type="expense",this.transactionForm.trip_id=t,this.popupActive=!0},addIncome:function(t){this.transactionForm.action="Add Income",this.transactionForm.type="income",this.transactionForm.trip_id=t,this.popupActive=!0},submitForm:function(){var t=this;this.$validator.validateAll().then(function(a){a&&(t.popupActive=!1,t.transactionForm.date=t.$options.filters.dateToString(t.transactionForm.date),console.log(t.transactionForm),t.axios.post("transaction/add",t.transactionForm).then(function(a){a.data.notify&&t.$vs.notify({title:a.data.notify.title,text:a.data.notify.message,color:a.data.notify.type}),"success"==a.data.status&&(t.transactionForm={action:"",type:"",trip_id:"",date:new Date,detail:"",amount:""}),t.update()}))})},update:function(){var t=this;this.axios.get("/home",{params:{start_date:this.$options.filters.dateToString(this.startDate),end_date:this.$options.filters.dateToString(this.endDate)}}).then(function(a){t.totalTrip=a.data.total_trip,t.totalIncome=a.data.total_income,t.totalExpense=a.data.total_expense,t.totalGExpense=a.data.total_gexpense,t.totalProfit=a.data.total_profit,t.currentTrip=a.data.current_trip,t.startDate=new Date(a.data.start_date),t.endDate=new Date(a.data.end_date)})}},mounted:function(){this.update()},components:{Datepicker:i["a"]}},n=l,o=(e("ee18"),e("2877")),c=Object(o["a"])(n,s,r,!1,null,"48d6d271",null);a["default"]=c.exports},ee18:function(t,a,e){"use strict";var s=e("6c7d"),r=e.n(s);r.a}}]);
//# sourceMappingURL=chunk-c35fe9b4.ccfd2f8b.js.map